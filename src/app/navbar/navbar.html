<nav class="w-full bg-white border-b fixed z-50">
  <div class="max-w-7xl mx-auto px-6">
    <div class="flex items-center justify-between h-20">

      <!-- Logo -->
      <a routerLink="/" class="flex items-center">
        <img src="/logo2.png" alt="Logo" class="h-10 w-auto">
      </a>

      <!-- ================= DESKTOP MENU ================= -->
      <ul class="hidden lg:flex items-center gap-9 text-sm font-medium text-gray-800">

        <li>
          <a routerLink="/about" class="hover:text-[#05266e]">About Us</a>
        </li>

        <!-- Products Dropdown -->
        <li class="relative group">
          <span class="flex items-center gap-1 cursor-pointer hover:text-[#05266e]">
            <a routerLink="/services">
              Products & Services
            </a>
            <svg class="w-4 h-4 mt-[2px]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </span>

          <!-- Dropdown -->
          <div class="absolute left-0 top-full mt-[30px] w-[420px] bg-white border shadow-lg
                   opacity-0 invisible group-hover:opacity-100 group-hover:visible
                   transition-all duration-200">
            <div class="grid grid-cols-2 p-4 gap-4">

              <!-- In-Box -->
              <div>
                <!-- <a routerLink="/in-box-desiccants" class="block font-bold mb-2 hover:text-blue-900">
                  In-Box Desiccants
                </a>

                <a routerLink="/calcium-based" class="block py-1 hover:text-blue-900">
                  Calcium-Based Desiccants
                </a> -->

                <a routerLink="/descriptive" class="block py-1 font-bold hover:text-blue-900">
                  Descriptive
                </a>

                <div class="pl-3 mt-2 space-y-1">
                  <a routerLink="/descriptive/clay-desiccants" class="block hover:text-blue-900">
                    Clay Desiccants
                  </a>
                  <a routerLink="/descriptive/silica-gel-round-beads" class="block hover:text-blue-900">
                    Silica Gel Round Beads
                  </a>
                  <a routerLink="/descriptive/silica-gel-granules" class="block hover:text-blue-900">
                    Silica Gel Granules
                  </a>
                  <a routerLink="/descriptive/molecular-sieve-desiccants"
                    class="block hover:text-blue-900">
                    Molecular Sieve
                  </a>
                  <a routerLink="/descriptive/indicating-specialty-desiccants"
                    class="block hover:text-blue-900">
                    Indicating & Specialty
                  </a>
                  <a routerLink="/descriptive/food-grade-desiccants" class="block hover:text-blue-900">
                    Food Grade
                  </a>
                  <a routerLink="/descriptive/activated-carbon" class="block hover:text-blue-900">
                    Activated Carbon
                  </a>
                  <a routerLink="/descriptive/oxygen-absorbers" class="block hover:text-blue-900">
                    Oxygen Absorbers
                  </a>
                </div>
              </div>

              <!-- Other -->
              <div>
                <a routerLink="/container-desiccants" class="block font-bold mb-2 hover:text-blue-900">
                  Container Desiccants
                </a>
                <a routerLink="/container-desiccants" fragment="ds" class="block py-1 hover:text-blue-900">
                  Standard Container Desiccant
                </a>
                <a routerLink="/container-desiccants" fragment="ds" class="block py-1 hover:text-blue-900">
                  Heavy Duty Container Desiccant
                </a>
                <a routerLink="/container-desiccants" fragment="ds" class="block py-1 hover:text-blue-900">
                  Special Application Container Desiccants
                </a>
              </div>

            </div>
          </div>
        </li>

        <li class="relative group">
          <span class="flex items-center gap-1 cursor-pointer hover:text-[#05266e]">
            Knowledge Center
            <svg class="w-4 h-4 mt-[2px]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </span>

          <!-- Dropdown -->
          <div class="absolute left-0 top-full mt-[30px] w-[230px] bg-white border shadow-lg
           opacity-0 invisible group-hover:opacity-100 group-hover:visible
           transition-all duration-200">
            <ul class="py-3 text-sm text-gray-700">
              <li>
                <a routerLink="/desiccants" class="block px-4 py-2 hover:text-blue-900">
                  Desiccants
                </a>
              </li>
              <li>
                <a routerLink="/moisture-damage" class="block px-4 py-2 hover:text-blue-900">
                  Moisture Damage
                </a>
              </li>
              <li>
                <a routerLink="/moisture-damage-prevention" class="block px-4 py-2 hover:text-blue-900">
                  Moisture Damage Prevention
                </a>
              </li>
              <li>
                <a routerLink="/industry-solutions" class="block px-4 py-2 hover:text-blue-900">
                  Industry Solutions
                </a>
              </li>
            </ul>
          </div>
        </li>

        <li><a routerLink="/social-responsibilities" class="hover:text-[#05266e]">CSR</a></li>
      </ul>

      <!-- Desktop CTA -->
      <div class="hidden lg:block">
        <a routerLink="/contact" class="bg-[#05266e] text-white px-5 py-2 text-sm font-semibold hover:bg-[#001030]">
          CONTACT US â†’
        </a>
      </div>

      <!-- ================= MOBILE BUTTON ================= -->
      <button class="lg:hidden p-3" (click)="toggleMenu()" aria-label="Open menu">
        <svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <line x1="3" y1="6" x2="21" y2="6" />
          <line x1="3" y1="12" x2="21" y2="12" />
          <line x1="3" y1="18" x2="21" y2="18" />
        </svg>
      </button>
    </div>
  </div>

  <!-- ================= MOBILE MENU ================= -->
  <div class="lg:hidden bg-white border-t transition-all duration-300
            overflow-y-auto" [class.max-h-0]="!isOpen" [class.max-h-[calc(100vh-80px)]]="isOpen">

    <ul class="px-6 py-4 space-y-4 text-sm font-medium">

      <li><a routerLink="/about" (click)="onNavClick()">About Us</a></li>

      <!-- Mobile Products -->
      <li>
        <a routerLink="/services" class="w-full flex justify-between items-center"
          (click)="isProductsOpen = !isProductsOpen">
          Products & Services
          <svg class="w-4 h-4 transition-transform" [class.rotate-180]="isProductsOpen" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </a>

        <div class="pl-4 mt-3 overflow-hidden transition-all duration-300" [class.max-h-0]="!isProductsOpen"
          [class.max-h-screen]="isProductsOpen">
          <!-- Main links -->
          <!-- <a routerLink="/in-box-desiccants" (click)="onNavClick()"
            class="block py-2 text-sm font-medium text-gray-800">
            In-Box Desiccants
          </a>
          <a routerLink="/calcium-based" (click)="onNavClick()" class="block py-1 hover:text-blue-900">
            Calcium-Based Desiccants
          </a> -->

          <a routerLink="/descriptive" (click)="onNavClick()"
            class="block py-2 text-sm font-bold text-blue-900">
            Descriptive
          </a>

          <!-- Sub links -->
          <div class="mt-2 pl-3 space-y-2 border-l border-gray-200">
            <a routerLink="/descriptive/clay-desiccants" (click)="onNavClick()"
              class="block py-1 text-sm text-gray-600">
              Clay Desiccants
            </a>

            <a routerLink="/descriptive/silica-gel-round-beads" (click)="onNavClick()"
              class="block py-1 text-sm text-gray-600">
              Silica Gel Round Beads
            </a>

            <a routerLink="/descriptive/silica-gel-granules" (click)="onNavClick()"
              class="block py-1 text-sm text-gray-600">
              Silica Gel Granules
            </a>

            <a routerLink="/descriptive/molecular-sieve-desiccants" (click)="onNavClick()"
              class="block py-1 text-sm text-gray-600">
              Molecular Sieve Desiccants
            </a>

            <a routerLink="/descriptive/indicating-specialty-desiccants" (click)="onNavClick()"
              class="block py-1 text-sm text-gray-600">
              Indicating Specialty Desiccants
            </a>

            <a routerLink="/descriptive/food-grade-desiccants" (click)="onNavClick()"
              class="block py-1 text-sm text-gray-600">
              Food Grade Desiccants
            </a>

            <a routerLink="/descriptive/activated-carbon" (click)="onNavClick()"
              class="block py-1 text-sm text-gray-600">
              Activated Carbon
            </a>

            <a routerLink="/descriptive/oxygen-absorbers" (click)="onNavClick()"
              class="block py-1 text-sm text-gray-600">
              Oxygen Absorbers
            </a>
          </div>
          <div>
            <a routerLink="/container-desiccants" (click)="onNavClick()"
              class="block font-bold mb-2 text-blue-900 hover:text-blue-900">
              Container Desiccants
            </a>
            <div class="mt-2 pl-3 space-y-2 border-l border-gray-200">
              <a routerLink="/container-desiccants" fragment="ds" (click)="onNavClick()"
                class="block py-1 text-gray-600 hover:text-blue-900">
                Standard Container Desiccant
              </a>
              <a routerLink="/container-desiccants" fragment="dp" (click)="onNavClick()"
                class="block py-1 text-gray-600 hover:text-blue-900">
                Heavy Duty Container Desiccant
              </a>
              <a routerLink="/container-desiccants" fragment="sq" (click)="onNavClick()"
                class="block py-1 text-gray-600 hover:text-blue-900">
                Special Application Container Desiccants
              </a>
            </div>
          </div>
        </div>
      </li>
      <li>
        <a routerLink="/desiccants" class="w-full flex justify-between items-center"
          (click)="isKnowledgeOpen = !isKnowledgeOpen">
          Knowledge Center
          <svg class="w-4 h-4 transition-transform" [class.rotate-180]="isKnowledgeOpen" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </a>

        <!-- Dropdown -->
        <div class="pl-4 mt-3 overflow-hidden transition-all duration-300" [class.max-h-0]="!isKnowledgeOpen"
          [class.max-h-screen]="isKnowledgeOpen">
          <a routerLink="/desiccants" (click)="onNavClick()"
            class="block py-2 text-sm text-gray-600 hover:text-blue-900">
            Desiccants
          </a>
          <a routerLink="/moisture-damage" (click)="onNavClick()"
            class="block py-2 text-sm text-gray-600 hover:text-blue-900">
            Moisture Damage
          </a>
          <a routerLink="/moisture-damage-prevention" (click)="onNavClick()"
            class="block py-2 text-sm text-gray-600 hover:text-blue-900">
            Moisture Damage Prevention
          </a>
          <a routerLink="/industry-solutions" (click)="onNavClick()"
            class="block py-2 text-sm text-gray-600 hover:text-blue-900">
            Industry Solutions
          </a>
        </div>
      </li>

      <li><a routerLink="/social-responsibilities" class="hover:text-[#05266e]">CSR</a></li>
      <li><a routerLink="/contact" (click)="onNavClick()">Contact Us</a></li>
    </ul>
  </div>
</nav>