<div class="about md:h-40">
  <h2 class="text-blue-900 text-2xl p-5 font-bold md:pt-30 md:ps-15">Products and Services</h2>
</div>
<div class="max-w-6xl mx-auto px-6 py-12">

  <!-- CATEGORY DETAILS -->
  <h1 class="text-3xl font-semibold mb-4">
    {{ category?.name }}
  </h1>

  <div class="grid grid-cols-1 md:grid-cols-12 gap-10 items-center mb-12">

    <!-- TEXT -->
    <div class="md:col-span-7">
      <hr class="border-gray-300 mb-6">

      <p class="text-gray-700 leading-relaxed mb-4">
        {{ category?.description1 }}
      </p>

      <p class="text-gray-700 leading-relaxed mb-4">
        {{ category?.description2 }}
      </p>
    </div>

    <!-- IMAGE GALLERY -->
    <div class="md:col-span-5 w-full">

      <!-- Main Image -->
      @if (selectedImage) {
        <div
          class="w-full mb-4 overflow-hidden rounded-xl
                 border border-gray-200 bg-white"
        >
          <img
            [src]="selectedImage"
            [alt]="product?.name"
            class="w-full h-64 sm:h-72 md:h-[360px]
                   object-cover transition-transform duration-300
                   hover:scale-105"
          />
        </div>
      }

      <!-- Thumbnails -->
      @if (product?.images?.length) {
        <div class="grid grid-cols-3 sm:grid-cols-4 gap-3">

          @for (img of product.images; track img) {
            <button
              type="button"
              (click)="selectImage(img)"
              class="relative overflow-hidden rounded-lg border
                     transition-all duration-200 focus:outline-none"
              [class.border-black]="selectedImage === img"
              [class.ring-2]="selectedImage === img"
              [class.ring-black/40]="selectedImage === img"
              [class.opacity-70]="selectedImage !== img"
            >
              <img
                [src]="img"
                [alt]="product?.name"
                class="w-full h-20 sm:h-24 object-cover"
              />
            </button>
          }

        </div>
      }

    </div>
  </div>

 <!-- PRODUCTS GRID -->
@if (category?.products?.length) {
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">

    @for (p of category.products; track p.slug) {
      <a
        [routerLink]="[
          '/in-box-desiccants',
          'incubic',
          category.slug,
          p.slug
        ]"
        class="cursor-pointer group relative bg-white
               border border-gray-200 rounded-2xl shadow-md
               hover:shadow-xl hover:-translate-y-1
               transition-all duration-300 block"
      >

        <!-- Image -->
        <div class="relative overflow-hidden rounded-t-2xl">
          <img
            [src]="p.images?.[0]"
            [alt]="p.name"
            class="w-full h-56 object-cover
                   transition-transform duration-500
                   group-hover:scale-110"
          />
        </div>

        <!-- Bottom Size Strip -->
        <div class="p-3 bg-[#05266e] text-center">
          <p class="text-white font-semibold text-sm">
            {{ p.name }}
          </p>
        </div>

      </a>
    }

  </div>
}

</div>
