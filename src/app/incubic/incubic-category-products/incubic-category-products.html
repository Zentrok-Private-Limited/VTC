<div class="about md:h-40">
  <h2 class="text-blue-900 text-2xl p-5 font-bold md:pt-30 md:ps-15">Products and Services</h2>
</div>
<div class="max-w-6xl mx-auto px-6 py-12">
  <div class="grid grid-cols-1 md:grid-cols-12 gap-10 items-start mb-12">

  <!-- TEXT -->
  <div class="md:col-span-7">

    <h1 class="text-3xl pb-5 font-semibold">
      {{ category?.name }}
    </h1>

    <hr class="border-gray-300 mb-6">

    <p class="text-gray-700 leading-relaxed mb-4">
      {{ category?.description1 }}
    </p>

    <p class="text-gray-700 leading-relaxed mb-6">
      {{ category?.description2 }}
    </p>

    <!-- FEATURES + APPLICATIONS -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

      @if (category?.features?.length) {
      <div>
        <h3 class="text-lg font-semibold mb-2">Key Features</h3>
        <ul class="list-disc pl-5 space-y-1 text-gray-700">
          @for (f of category.features; track f) {
          <li>{{ f }}</li>
          }
        </ul>
      </div>
      }

      @if (category?.applications?.length) {
      <div class="md:ps-10">
        <h3 class="text-lg font-semibold mb-2">Applications</h3>
        <ul class="list-disc pl-5 space-y-1 text-gray-700">
          @for (a of category.applications; track a) {
          <li>{{ a }}</li>
          }
        </ul>
      </div>
      }

    </div>
  </div>

  <!-- IMAGE GALLERY -->
  <div class="md:col-span-5 w-full">

    <!-- MAIN IMAGE -->
    @if (selectedImage) {
    <div class="flex justify-center mb-5">
      <img
        [src]="selectedImage"
        [alt]="category?.name"
        class="w-full max-w-md  border
               transition-transform duration-300 hover:scale-105"
      />
    </div>
    }

    <!-- THUMBNAILS -->
    @if (category?.images?.length) {
    <div class="grid grid-cols-3 sm:grid-cols-3 gap-3">
      @for (img of category.images; track img) {
      <button
        type="button"
        (click)="selectImage(img)"
        class="relative overflow-hidden border
               transition-all duration-200 focus:outline-none"
        [class.border-black]="selectedImage === img"
        [class.ring-2]="selectedImage === img"
        [class.ring-black/40]="selectedImage === img"
        [class.opacity-70]="selectedImage !== img"
      >
        <img
          [src]="img"
          [alt]="category?.name"
          class="w-full h-20 sm:h-24 object-cover"
        />
      </button>
      }
    </div>
    }

  </div>
</div>
  <!-- PRODUCTS GRID -->
  @if (category?.products?.length) {
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">

    @for (p of category.products; track p.slug) {
    <a [routerLink]="[
          '/in-box-desiccants',
          'incubic',
          category.slug,
          p.slug
        ]" class="cursor-pointer group relative bg-white
               border border-gray-200 rounded-2xl shadow-md
               hover:shadow-xl hover:-translate-y-1
               transition-all duration-300 block">

      <!-- Image -->
      <div class="relative overflow-hidden rounded-t-2xl">
        <img [src]="p.images?.[0]" [alt]="p.name" class="w-full h-56 object-cover
                   transition-transform duration-500
                   group-hover:scale-110" />
      </div>

      <!-- Bottom Size Strip -->
      <div class="p-3 bg-[#05266e] text-center">
        <p class="text-white font-semibold text-sm">
          {{ p.name }}
        </p>
      </div>

    </a>
    }

  </div>
  }

</div>